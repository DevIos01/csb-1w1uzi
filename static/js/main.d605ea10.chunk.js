(this.webpackJsonphkreact=this.webpackJsonphkreact||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(22),a=n.n(s),o=n(13),i=n(2),l=n(4),u=n(21),j=n(3),b=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),b=o[0],h=o[1],m=Object(c.useState)(localStorage.getItem(localStorage.getItem("authenticated")||!1)),d=Object(l.a)(m,2),p=(d[0],d[1]),O=Object(i.m)();return Object(j.jsx)("div",{className:"Auth-form-container",children:Object(j.jsx)("form",{className:"Auth-form",onSubmit:function(e){e.preventDefault(),fetch("https://misguided.enterprises/hkgi/testauth",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Basic ".concat(u.Buffer.from(r+":"+b).toString("base64"))}}).then((function(e){return e.json()})).then((function(e){p(!0),localStorage.setItem("authenticated",!0);var t=u.Buffer.from(r+":"+b).toString("base64");localStorage.setItem("Auth",t),O("/dashboard")})).catch((function(e){return console.log(e)}))},children:Object(j.jsxs)("div",{className:"Auth-form-content",children:[Object(j.jsx)("h3",{className:"Auth-form-title",children:"Sign In"}),Object(j.jsxs)("div",{className:"text-center",children:["Not registered yet?"," ",Object(j.jsx)("span",{className:"link-primary",onClick:function(){return O("/signup")},children:"Sign Up"})]}),Object(j.jsxs)("div",{className:"form-group mt-3",children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{type:"username",className:"form-control mt-1",placeholder:"e.g DevIos",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group mt-3",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control mt-1",placeholder:"Password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)("div",{className:"d-grid gap-2 mt-3",children:Object(j.jsx)("button",{type:"submit",value:"Submit",className:"btn btn-primary",children:"Submit"})})]})})})},h=n(5),m=n(6),d=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),u=o[0],b=o[1],d=Object(i.m)();return Object(j.jsx)("div",{className:"Auth-form-container",children:Object(j.jsx)("form",{className:"Auth-form",onSubmit:function(e){e.preventDefault(),fetch("https://misguided.enterprises/hkgi/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:r,pass:u})}).then(function(){var e=Object(m.a)(Object(h.a)().mark((function e(t){var n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=11;break}return e.prev=1,e.next=4,t.json();case 4:return n=e.sent,e.abrupt("return",new Promise((function(e,t){return e(n)})));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",new Promise((function(e,t){return e({ok:!0})})));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){console.log(e),!0===e.ok&&d("/"),!1===e.ok&&alert(e.msg)})).catch((function(e){return console.log(e)}))},children:Object(j.jsxs)("div",{className:"Auth-form-content",children:[Object(j.jsx)("h3",{className:"Auth-form-title",children:"Sign Up"}),Object(j.jsxs)("div",{className:"text-center",children:["Already registered?"," ",Object(j.jsx)("span",{className:"link-primary",onClick:function(){return d("/")},children:"Sign In"})]}),Object(j.jsxs)("div",{className:"form-group mt-3",children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{type:"username",className:"form-control mt-1",placeholder:"e.g DevIos",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group mt-3",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control mt-1",placeholder:"Password",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsx)("div",{className:"d-grid gap-2 mt-3",children:Object(j.jsx)("button",{type:"submit",value:"Submit",className:"btn btn-primary",children:"Submit"})})]})})})},p=function(){var e,t=Object(c.useState)(null!==(e=localStorage.getItem("authenticated"))&&void 0!==e&&e),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(null),o=Object(l.a)(a,2),u=o[0],b=o[1],h=localStorage.getItem("Auth");return u||fetch("https://misguided.enterprises/hkgi/getstead",{headers:{Authorization:"Basic "+h}}).then((function(e){return e.json()})).then((function(e){console.log(e),b(e)})),Object(j.jsx)(j.Fragment,{children:r?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Welcome to your Dashboard"}),Object(j.jsx)("button",{onClick:function(e){return s(!1)},children:"Logout"}),Object(j.jsx)("div",{children:u?Object.keys(u.inv).map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[e," Amount: ",u.inv[e]]})},t)})):Object(j.jsx)("p",{children:"No Items found"})})]}):Object(j.jsx)(i.a,{to:"/"})})};n(35),n(36);a.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:"/",element:Object(j.jsx)(b,{})}),Object(j.jsx)(i.b,{path:"/Signup",element:Object(j.jsx)(d,{})}),Object(j.jsx)(i.b,{path:"dashboard",element:Object(j.jsx)(p,{})})]})})}))}},[[37,1,2]]]);
//# sourceMappingURL=main.d605ea10.chunk.js.map